<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MariaDB for Universities Program: Course Material</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>
    
    <div class="top-menu">
        <div class="menu-left">
            <a href="/" class="home-link">
                <img src="#" alt="" class="menu-icon">
                MariaDB for Universities Program: Course Material
            </a>
        </div>
        <div class="menu-right">
            <a href="/">Course Material</a>
            <a href="/contribute">Contribute</a>
            <a href="/foundation">MariaDB Foundation</a>
        </div>
    </div>

  

    
    <div class="content-wrapper">
      
      <div class="left-menu">
        
        <div class="table-of-contents">
          <h2><a href=".">Lesson 5: User Management</a></h2>
          <nav id="TableOfContents">
  <ul>
    <li><a href="#learning-objectives">Learning Objectives</a></li>
    <li><a href="#authentication-methods-and-user-accounts">Authentication Methods and User Accounts</a>
      <ul>
        <li><a href="#authentication-methods">Authentication Methods</a></li>
        <li><a href="#default-authentication-method">Default Authentication Method</a></li>
        <li><a href="#ed25519">ed25519</a></li>
        <li><a href="#named-pipe">Named Pipe</a></li>
        <li><a href="#unix-socket">Unix Socket</a></li>
        <li><a href="#mariadb-user-accounts">MariaDB User Accounts</a></li>
        <li><a href="#authentication-tables-and-views">Authentication Tables and Views</a></li>
        <li><a href="#creating-users">Creating Users</a></li>
        <li><a href="#checking-users">Checking Users</a></li>
        <li><a href="#managing-users">Managing Users</a></li>
        <li><a href="#assigning-privileges">Assigning Privileges</a></li>
        <li><a href="#available-privileges-show-privileges">Available Privileges (Show Privileges)</a></li>
        <li><a href="#checking-and-revoking-privileges">Checking and Revoking Privileges</a></li>
      </ul>
    </li>
    <li><a href="#restricting-users">Restricting Users</a>
      <ul>
        <li><a href="#removing-users">Removing Users</a></li>
      </ul>
    </li>
    <li><a href="#lesson-summary">Lesson Summary</a></li>
  </ul>
</nav>
        </div>
        
      </div>

      
      <div class="main-content">
        
<nav class="breadcrumb">
    
      
      <a href="/">MariaDB for Universities Course Material</a>
    
       &gt; 
      <a href="/dba/">MariaDB DBA Course</a>
    
    &gt; <span class="current">Lesson 5: User Management</span>
</nav>

        <h1>Lesson 5: User Management</h1>
        <h1 id="user-management">User Management</h1>
<h2 id="learning-objectives">Learning Objectives</h2>
<ul>
<li>Demonstrate how to create and manage users in MariaDB</li>
<li>Explain how to limit resource usage per user in MariaDB</li>
<li>Show how to assign and revoke privileges to users in MariaDB</li>
</ul>
<h2 id="authentication-methods-and-user-accounts">Authentication Methods and User Accounts</h2>
<h3 id="authentication-methods">Authentication Methods</h3>
<ul>
<li><code>DEFAULT</code></li>
<li><code>ed25519</code></li>
<li><code>NAMED PIPE</code></li>
<li><code>UNIX SOCKET</code></li>
<li><code>GSSAPI</code></li>
<li><code>PAM</code></li>
</ul>
<h3 id="default-authentication-method">Default Authentication Method</h3>
<ul>
<li>User ID / Passwords stored within database (<code>mysql.global_priv</code>)</li>
<li>Passwords are encrypted (<code>PASSWORD()</code> function)
<ul>
<li>Use <code>SET PASSWORD=PASSWORD('new_password')</code> statement for password changes</li>
</ul>
</li>
<li>Easy for DBAs to control and manage users, roles and policies</li>
<li>Password strength checking set by DBA</li>
<li>Not tied to LDAP/AD/Operating System users</li>
</ul>
<h3 id="ed25519">ed25519</h3>
<ul>
<li>Uses Elliptic Curve Digital Signature Algorithm (ECDSA)</li>
<li>More secure than default SHA-1 password hashing</li>
<li>Installed via a plugin - <code>INSTALL SONAME 'auth_ed25519'</code></li>
<li><code>CREATE USER username@hostname IDENTIFIED VIA ed25519 USING PASSWORD('secret');</code></li>
</ul>
<h3 id="named-pipe">Named Pipe</h3>
<ul>
<li>Used with Windows named pipe impersonation</li>
<li>Retrieves username from Windows with <code>GetUserName()</code> function</li>
<li>Password is not required</li>
<li>Installed via plugin</li>
<li><code>CREATE USER username@hostname IDENTIFIED VIA named_pipe;</code></li>
</ul>
<h3 id="unix-socket">Unix Socket</h3>
<ul>
<li>Uses operating system credentials to authenticate</li>
<li>Password is not required</li>
<li>Plugin installed by default</li>
<li><code>CREATE USER username@hostname IDENTIFIED VIA unix_socket;</code></li>
</ul>
<h3 id="mariadb-user-accounts">MariaDB User Accounts</h3>
<ul>
<li>
<p>Authentication is based on user, host and password except with specific authentication plugins for example Unix socket, GSSAPI and PAM</p>
</li>
<li>
<p>Privileges are based on user and host combined, and the user&rsquo;s current role</p>
</li>
<li>
<p>Privileges can be granted globally, at the database level, at the table level or at the column level</p>
</li>
</ul>
<h3 id="authentication-tables-and-views">Authentication Tables and Views</h3>
<p>Internal credentials and global privileges are stored as JSON <code>mysql.global_priv</code> table</p>
<p>This allows for further flexibility and avoids frequent changes to the table structure</p>
<p>The old <code>mysql.user</code> table is a view on <code>mysql.global_priv</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>MariaDB [(<span style="color:#66d9ef">none</span>)]<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">DESCRIBE</span> mysql.global_priv;
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">-------+-------------+------+-----+---------+-------+
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">|</span> Field <span style="color:#f92672">|</span> <span style="color:#66d9ef">Type</span>        <span style="color:#f92672">|</span> <span style="color:#66d9ef">Null</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">Key</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">Default</span> <span style="color:#f92672">|</span> Extra <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">-------+-------------+------+-----+---------+-------+
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">|</span> <span style="color:#66d9ef">Host</span>  <span style="color:#f92672">|</span> char(<span style="color:#ae81ff">60</span>)    <span style="color:#f92672">|</span> <span style="color:#66d9ef">NO</span>   <span style="color:#f92672">|</span> PRI <span style="color:#f92672">|</span>         <span style="color:#f92672">|</span>       <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#66d9ef">User</span>  <span style="color:#f92672">|</span> char(<span style="color:#ae81ff">80</span>)    <span style="color:#f92672">|</span> <span style="color:#66d9ef">NO</span>   <span style="color:#f92672">|</span> PRI <span style="color:#f92672">|</span>         <span style="color:#f92672">|</span>       <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> Priv  <span style="color:#f92672">|</span> longtext    <span style="color:#f92672">|</span> <span style="color:#66d9ef">NO</span>   <span style="color:#f92672">|</span>     <span style="color:#f92672">|</span> <span style="color:#e6db74">&#39;{}&#39;</span>    <span style="color:#f92672">|</span>       <span style="color:#f92672">|</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+</span><span style="color:#75715e">-------+-------------+------+-----+---------+-------+
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3</span> <span style="color:#66d9ef">rows</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">set</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">001</span> sec)
</span></span></code></pre></div><h3 id="creating-users">Creating Users</h3>
<p>Changes made with the account management statements are automatically activated</p>
<p>Use the <code>CREATE USER</code> statement to create users in MariaDB</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span> IDENTIFIED <span style="color:#66d9ef">BY</span> <span style="color:#e6db74">&#39;password&#39;</span>;
</span></span></code></pre></div><p>Resource limits such as the number of queries, updates or connections per hour can be set by appending the resource_option to the <code>CREATE USER</code> statement</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> MAX_QUERIES_PER_HOUR <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>MAX_UPDATES_PER_HOUR <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>MAX_CONNECTIONS_PER_HOUR <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>MAX_USER_CONNECTIONS <span style="color:#ae81ff">40</span>;
</span></span></code></pre></div><p>Use <code>MAX_USER_CONNECTIONS</code> to limit the number of simultaneous connections by a user</p>
<p>Append the following <code>tls_option</code> to the <code>CREATE USER</code> statement to specify the requirement and details of secure SSL connections per user</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;foo&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;test&#39;</span>
</span></span><span style="display:flex;"><span>REQUIRE ISSUER <span style="color:#e6db74">&#39;foo_issuer&#39;</span>
</span></span><span style="display:flex;"><span>SUBJECT <span style="color:#e6db74">&#39;foo_subject&#39;</span>
</span></span><span style="display:flex;"><span>CIPHER <span style="color:#e6db74">&#39;text&#39;</span>;
</span></span></code></pre></div><h3 id="checking-users">Checking Users</h3>
<p>The <code>SHOW CREATE USER</code> statement is a useful way to see the command required to create a user for auditing or the creation of similar accounts</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SHOW</span> <span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">G</span>
</span></span></code></pre></div><h3 id="managing-users">Managing Users</h3>
<p>Changes made with the account management statements are automatically activated</p>
<h4 id="change-a-users-username-and-host">Change a user&rsquo;s username and host</h4>
<p><code>RENAME USER</code> statement</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">RENAME</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;user1&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host1&#39;</span> <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;user2&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host2&#39;</span>;
</span></span></code></pre></div><h4 id="change-a-users-password">Change a user&rsquo;s password</h4>
<p><code>SET PASSWORD</code> statement</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SET</span> PASSWORD <span style="color:#66d9ef">FOR</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span> <span style="color:#f92672">=</span> PASSWORD(<span style="color:#e6db74">&#39;mariadb2&#39;</span>);
</span></span></code></pre></div><h4 id="the-alter-user-statement-allows-for-easy-modification-of-existing-user-accounts">The <code>ALTER USER</code> statement allows for easy modification of existing user accounts</h4>
<p>Changing a user&rsquo;s password can be rewritten to use the <code>ALTER USER</code> statement
sql
ALTER USER CURRENT_USER() IDENTIFIED BY &lsquo;mariadb2&rsquo;;</p>
<pre tabindex="0"><code>
### Managing Users

`ALTER USER` statement to limit the number of simultaneous connections

```sql
ALTER USER &#39;user&#39;@&#39;host&#39; WITH MAX_USER_CONNECTIONS 10;
</code></pre><p>The <code>ALTER USER</code> statement can also be used to set certain TLS-related restrictions</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;user2&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host2&#39;</span>
</span></span><span style="display:flex;"><span>REQUIRE SUBJECT <span style="color:#e6db74">&#39;/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">AND</span> ISSUER <span style="color:#e6db74">&#39;/C=IT/ST=Somewhere/L=City/O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">AND</span> CIPHER <span style="color:#e6db74">&#39;TLSv1.2&#39;</span>;
</span></span></code></pre></div><h3 id="assigning-privileges">Assigning Privileges</h3>
<p>The <code>mysql</code> database contains the grants tables, which are loaded into memory when MariaDB starts up</p>
<p>Users and roles are assigned privileges with the <code>GRANT</code> statement</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">GRANT</span>
</span></span><span style="display:flex;"><span>    priv_type [(column_list)]
</span></span><span style="display:flex;"><span>    [, priv_type [(column_list)]] ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">ON</span> [object_type] priv_level
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">TO</span> <span style="color:#66d9ef">user</span>
</span></span><span style="display:flex;"><span>    [<span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">OPTION</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|</span> MAX_QUERIES_PER_HOUR <span style="color:#66d9ef">count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|</span> MAX_UPDATES_PER_HOUR <span style="color:#66d9ef">count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|</span> MAX_CONNECTIONS_PER_HOUR <span style="color:#66d9ef">count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|</span> MAX_USER_CONNECTIONS <span style="color:#66d9ef">count</span> ]
</span></span></code></pre></div><h3 id="available-privileges-show-privileges">Available Privileges (Show Privileges)</h3>
<h4 id="basic-privileges">Basic Privileges</h4>
<ul>
<li>Usage</li>
<li>Select</li>
<li>Insert</li>
<li>Update</li>
<li>Delete</li>
<li>Show Databases</li>
</ul>
<h4 id="customizing-privileges">Customizing Privileges</h4>
<ul>
<li>Create Routine</li>
<li>Alter Routine</li>
<li>Execute</li>
<li>Event</li>
<li>Trigger</li>
</ul>
<h4 id="administrator-privileges">Administrator Privileges</h4>
<ul>
<li>All [Privileges]</li>
<li>Super</li>
<li>Create User</li>
<li>Grant Option</li>
<li>Process</li>
<li>File</li>
<li>Reload</li>
<li>Shutdown</li>
<li>Connection Admin</li>
<li>Federated Admin</li>
<li>Read only Admin</li>
<li>Set User</li>
</ul>
<h4 id="developer-privileges">Developer Privileges</h4>
<ul>
<li>Create</li>
<li>Alter</li>
<li>Index</li>
<li>Drop</li>
</ul>
<h4 id="special-privileges">Special Privileges</h4>
<ul>
<li>Create Temporary Tables</li>
<li>Create View</li>
<li>Show View</li>
<li>Lock Tables</li>
</ul>
<h4 id="replication-privileges">Replication Privileges</h4>
<ul>
<li>Binary log Monitor</li>
<li>Replication Replica</li>
<li>Binary log Admin</li>
<li>Binary log Replay</li>
<li>Replication master admin</li>
<li>Replication slave admin</li>
</ul>
<h3 id="checking-and-revoking-privileges">Checking and Revoking Privileges</h3>
<p>The <code>REVOKE</code> statement removes privileges but does not remove the user account</p>
<p>To remove a user account, the <code>DROP USER</code> statement must be used</p>
<p>Query the user table in the mysql database to check the privileges of user accounts</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">user</span>,<span style="color:#66d9ef">host</span> <span style="color:#66d9ef">from</span> mysql.<span style="color:#66d9ef">user</span>;
</span></span></code></pre></div><p>The <code>SHOW GRANTS</code> statement can be used to check a single user account&rsquo;s privileges</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SHOW</span> GRANTS <span style="color:#66d9ef">FOR</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>;
</span></span></code></pre></div><p>Revoke privileges from a user with the <code>REVOKE</code> statement by either listing the privileges to revoke or using <code>ALL PRIVILEGES</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">REVOKE</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">ON</span> dbname.tablename <span style="color:#66d9ef">FROM</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">REVOKE</span> <span style="color:#66d9ef">ALL</span> <span style="color:#66d9ef">PRIVILEGES</span> <span style="color:#66d9ef">ON</span> dbname.tablename <span style="color:#66d9ef">FROM</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>;
</span></span></code></pre></div><p>Confirm that the revoke was successful with <code>SHOW GRANTS</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SHOW</span> GRANTS <span style="color:#66d9ef">FOR</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>;
</span></span></code></pre></div><h2 id="restricting-users">Restricting Users</h2>
<p>User accounts can have a limit set on resource use</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">ON</span> dbname.tablename <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WITH</span> MAX_QUERIES_PER_HOUR <span style="color:#ae81ff">20</span> 
</span></span><span style="display:flex;"><span>     MAX_CONNECTIONS_PER_HOUR <span style="color:#ae81ff">10</span> 
</span></span><span style="display:flex;"><span>     MAX_USER_CONNECTIONS <span style="color:#ae81ff">2</span> 
</span></span><span style="display:flex;"><span>     MAX_UPDATES_PER_HOUR <span style="color:#ae81ff">5</span>;
</span></span></code></pre></div><p>Resource limit usage is kept in the <code>mysql</code> database</p>
<p>Resource limit counters reset then the server starts/restarts or when <code>FLUSH USER_RESOURCES</code> is executed</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>FLUSH USER_RESOURCES;
</span></span></code></pre></div><h3 id="removing-users">Removing Users</h3>
<p>Delete users in MariaDB with the <code>DROP USER</code> statement</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>;
</span></span></code></pre></div><p>Check for leftover user accounts which still allow access from other hosts</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">User</span>,<span style="color:#66d9ef">Host</span> <span style="color:#66d9ef">from</span> mysql.<span style="color:#66d9ef">user</span> <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">User</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;user&#39;</span>;
</span></span></code></pre></div><h2 id="lesson-summary">Lesson Summary</h2>
<ul>
<li>Demonstrate how to create and manage users in MariaDB</li>
<li>Explain how to limit resource usage per user in MariaDB</li>
<li>Show how to assign and revoke privileges to users in MariaDB</li>
</ul>

      </div>

      
      <div class="right-menu">
          <div class="quick-links">
            <a href="https://github.com/robertsilen/mariadb-for-universities-www/blob/main/content/dba/mariadb-dba-05-user-management.md" class="icon-link edit-page">View page source</a>
            <a href="https://github.com/robertsilen/mariadb-for-universities-www/edit/main/content/dba/mariadb-dba-05-user-management.md" class="icon-link view-source">Edit this page</a>
            <a href="https://github.com/robertsilen/mariadb-for-universities-www/issues/new?title=Course%20Material%20issue%20for%20Lesson%205%3a%20User%20Management&body=I%20found%20an%20issue%20with%20the%20documentation%20for%20Lesson%205%3a%20User%20Management.%0A%0A%0A%0A---%0A%0AThis%20issue%20is%20related%20to%20the%20following%20page%3A%0A%0Ahttp%3a%2f%2flocalhost%3a1313%2fdba%2fmariadb-dba-05-user-management%2f" class="icon-link create-doc">Create Material issue</a>
            <a href="#" class="icon-link print">Print entire section</a>
          </div>
      </div>
  </div>


</body>
</html>
