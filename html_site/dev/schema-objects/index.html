<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>MariaDB for Universities Program: Course Material</title>
<link rel=stylesheet href=/css/main.css><meta property="og:url" content="https://uni.mariadb.org/dev/schema-objects/"><meta property="og:site_name" content="MariaDB for Universities Program Course Material"><meta property="og:title" content="Lesson 2: Schema objects"><meta property="og:description" content="Schema objects Learning objectives Gain an understanding of schema objects available within MariaDB Learn how to use and create databases and tables, including temporal data tables, and flexible and invisible columns Discuss data types and built-in functions, and their use cases Learn how to create and use views, triggers, events, and sequences Databases, tables and default schemas Case sensitivity Depending on Operating System, File System and lower_case_table_names
Set before starting a project (strongly recommended)!"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="dev"><meta property="article:published_time" content="2025-04-10T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-10T00:00:00+00:00"></head><body><div class=top-menu><div class=menu-left><a href=/ class=home-link><img src=# alt class=menu-icon>
MariaDB for Universities Program: Course Material</a></div><div class=menu-right><a href=https://mariadb.org>MariaDB Foundation (mariadb.org)</a></div></div><div class=content-wrapper><div class=left-menu><div class=table-of-contents><h2><a href=.>Lesson 2: Schema objects</a></h2><nav id=TableOfContents><ul><li><a href=#learning-objectives>Learning objectives</a></li><li><a href=#databases-tables-and-default-schemas>Databases, tables and default schemas</a><ul><li><a href=#case-sensitivity>Case sensitivity</a></li><li><a href=#databases>Databases</a></li><li><a href=#tables>Tables</a></li><li><a href=#columns>Columns</a></li><li><a href=#column-attributes>Column attributes</a></li><li><a href=#indexes>Indexes</a></li><li><a href=#constraints>Constraints</a></li><li><a href=#views>Views</a></li><li><a href=#stored-routines>Stored routines</a></li><li><a href=#default-schemas>Default schemas</a></li><li><a href=#creating-your-first-table>Creating your first table</a></li><li><a href=#altering-tables>Altering tables</a></li><li><a href=#temporal-tables>Temporal tables</a></li><li><a href=#temporal-tables-1>Temporal tables</a></li></ul></li><li><a href=#data-types-and-built-in-functions>Data types and built-in functions</a><ul><li><a href=#data-types>Data types</a></li><li><a href=#numeric-data-types>Numeric data types</a></li><li><a href=#auto-increment>Auto increment</a></li><li><a href=#numeric-data-types-1>Numeric data types</a></li><li><a href=#string-data-types>String data types</a></li><li><a href=#string-data-types-1>String data types</a></li><li><a href=#binary-data-types>Binary data types</a></li><li><a href=#temporal-data-types>Temporal data types</a></li><li><a href=#special-data-types>Special data types</a></li><li><a href=#built-in-functions>Built-in functions</a></li><li><a href=#manipulating-date--time>Manipulating date & time</a></li><li><a href=#examples-of-date--time-functions>Examples of date & time functions</a></li><li><a href=#manipulating-strings>Manipulating strings</a></li><li><a href=#an-example-of-a-string-function>An example of a string function</a></li><li><a href=#aggregate-functions>Aggregate functions</a></li><li><a href=#aggregate-multiplication>Aggregate multiplication</a></li><li><a href=#aggregate-multiplication-1>Aggregate multiplication</a></li><li><a href=#aggregate-multiplication-2>Aggregate multiplication</a></li><li><a href=#aggregate-multiplication-3>Aggregate multiplication</a></li><li><a href=#running-total-query>Running total query</a></li><li><a href=#running-total-query-1>Running total query</a></li><li><a href=#control-flow-functions>Control flow functions</a></li><li><a href=#some-numeric-functions>Some numeric functions</a></li></ul></li><li><a href=#views-triggers-and-events>Views, triggers and events</a><ul><li><a href=#views-1>Views</a></li><li><a href=#an-example-of-a-view>An example of a view</a></li></ul></li><li><a href=#lesson-summary>Lesson summary</a></li><li><a href=#lab-exercises>Lab exercises</a></li></ul></nav></div></div><div class=main-content><nav class=breadcrumb><a href=/>MariaDB for Universities Course Material</a>
>
<a href=/dev/>MariaDB Developer Course</a>
> <span class=current>Lesson 2: Schema objects</span></nav><h1>Lesson 2: Schema objects</h1><h1 id=schema-objects>Schema objects</h1><h2 id=learning-objectives>Learning objectives</h2><ul><li>Gain an understanding of schema objects available within MariaDB</li><li>Learn how to use and create databases and tables, including temporal data tables, and flexible and invisible columns</li><li>Discuss data types and built-in functions, and their use cases</li><li>Learn how to create and use views, triggers, events, and sequences</li></ul><h2 id=databases-tables-and-default-schemas>Databases, tables and default schemas</h2><h3 id=case-sensitivity>Case sensitivity</h3><p>Depending on Operating System, File System and <code>lower_case_table_names</code></p><p>Set before starting a project (strongly recommended)!</p><p>Usually case sensitive by default on Linux, not so on Windows and MacOS</p><p>Adopt a convention, such as always creating and referring to databases and tables using lowercase names</p><h3 id=databases>Databases</h3><p><strong>Database aka Schema</strong></p><ul><li>Highest Level Object</li><li>Corresponds to directory within data directory</li><li>All other objects reside within a database except user accounts, roles and plugins</li></ul><p><code>CREATE DATABASE world;</code></p><h3 id=tables>Tables</h3><p>Stores rows of structured data organised by typed columns</p><p>Each corresponds to a metadata file (<code>.frm</code>) and data file(s), dependent on storage engine<br>(i.e. InnoDB tablespaces)</p><p>Qualified by a database name<br>(i.e. <code>database.table</code>)</p><h3 id=columns>Columns</h3><ul><li><p>Set of typed data values</p></li><li><p>Qualified by a table name<br><em>(i.e. table.column)</em></p></li><li><p>Stored together in each row (MariaDB Server) within pages, within tablespaces or data files<br>Virtual generated columns are not stored at all</p></li><li><p>Index</p></li></ul><h3 id=column-attributes>Column attributes</h3><p>Columns have strict type definitions</p><p>Can specify DEFAULT value for column</p><p>Only Primary Key can be automatically incremented</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>people<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>(id<span style=color:#bbb> </span><span style=color:#007020>INT</span><span style=color:#bbb> </span>AUTO_INCREMENT<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>KEY</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>name<span style=color:#bbb> </span><span style=color:#007020>VARCHAR</span>(<span style=color:#40a070>20</span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DEFAULT</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;unknown&#39;</span>);<span style=color:#bbb>
</span></span></span></code></pre></div><p>Columns can be NULL, unless defined NOT NULL</p><ul><li>NULL means &ldquo;No Value&rdquo;, &ldquo;Not Applicable&rdquo;, or &ldquo;Unknown&rdquo;</li><li>Use NULL when value is not an empty string</li><li>NOT NULL<ul><li>Reduces storage in some Engines</li><li>Can also reduce execution time because there are more CPU cycles used to first check for NULL</li></ul></li></ul><h3 id=indexes>Indexes</h3><ul><li>Exact copy of selected columns followed by primary key (e.g., name,address,ID)<ul><li>For long columns the index might not be an &ldquo;exact copy&rdquo;, but instead it might contain a prefix of the column</li></ul></li><li>Fast lookup of data within a table, without having to scan all columns for each row</li><li>For InnoDB, primary key is silently appended to end of secondary indexes, unless specified elsewhere within index</li><li>Attribute of a table</li></ul><h3 id=constraints>Constraints</h3><ul><li>Types: Primary Key, Foreign Key, Unique and Check</li><li>Support and implementation differs per storage engine</li><li>Allows data within column(s) to be limited or constrained to a set of values</li><li>Usually defined with corresponding index</li><li>Attribute of a table</li><li>Has potential for contention at scale</li></ul><h3 id=views>Views</h3><ul><li>Virtual table defined by a SQL <code>SELECT</code> query</li><li>Evaluated at each access<ul><li>No materialized views</li></ul></li><li>Treated as a table for many purposes, shares namespace with tables</li><li>Updateable in certain cases (<code>WITH CHECK OPTION</code>)</li><li>Qualified by database (<code>database.view</code>)</li></ul><h3 id=stored-routines>Stored routines</h3><ul><li>Types: Functions, Triggers, Events, and Stored Procedures</li><li>Has input and output parameters</li><li>Reusable SQL Code<ul><li>SQL/PSM (default)</li><li>PL/SQL (<code>sql_mode=ORACLE</code>)</li></ul></li><li>Can allow cursor loops</li><li>Runtime script, not compiled or binary</li><li>Lack of good debugging, can be hard to profile</li><li>Can be bad for Statement based binary logging</li><li>Stored routine uses the privileges of the user that defined it (user can be changed with the DEFINER clause)</li><li>If SQL SECURITY INVOKER is set then the privileges of the user executing the stored routine are used</li><li>Qualified by database (<code>database.my_stored_procedure</code>)</li></ul><h3 id=default-schemas>Default schemas</h3><h4 id=information_schema>information_schema</h4><ul><li>The encyclopedia of your database</li><li>Contains information on databases, tables, columns, procedures, indexes, statistics, partitions and views</li><li>Plugins can install additional <code>information_schema</code> tables</li></ul><h4 id=mysql>mysql</h4><p>Stores information on:</p><ul><li>Server configuration</li><li>Grants and timezones</li><li>User accounts</li><li>Roles</li><li>Stored procedure definitions</li><li>Stored function definitions</li><li>Event definitions</li><li>Plugins installed by <code>INSTALL SONAME</code>/<code>INSTALL PLUGIN</code></li></ul><h4 id=performance_schema>performance_schema</h4><ul><li>Metrics and performance data</li><li>Will be covered in Tuning & optimization Module</li></ul><h3 id=creating-your-first-table>Creating your first table</h3><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>city<span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>ID<span style=color:#bbb> </span><span style=color:#007020>INT</span>(<span style=color:#40a070>11</span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NOT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NULL</span><span style=color:#bbb> </span>AUTO_INCREMENT,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>Name<span style=color:#bbb> </span><span style=color:#007020>CHAR</span>(<span style=color:#40a070>35</span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NOT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NULL</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DEFAULT</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;&#39;</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>CountryCode<span style=color:#bbb> </span><span style=color:#007020>CHAR</span>(<span style=color:#40a070>3</span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NOT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NULL</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DEFAULT</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;&#39;</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>District<span style=color:#bbb> </span><span style=color:#007020>CHAR</span>(<span style=color:#40a070>20</span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NOT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NULL</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DEFAULT</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;&#39;</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>Population<span style=color:#bbb> </span><span style=color:#007020>INT</span>(<span style=color:#40a070>11</span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NOT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NULL</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DEFAULT</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;0&#39;</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>PRIMARY</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>KEY</span><span style=color:#bbb> </span>(ID),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>KEY</span><span style=color:#bbb> </span>CountryCode<span style=color:#bbb> </span>(CountryCode),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>CONSTRAINT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FOREIGN</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>KEY</span><span style=color:#bbb> </span>(CountryCode)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>REFERENCES</span><span style=color:#bbb> </span>country<span style=color:#bbb> </span>(Code)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>)<span style=color:#bbb> </span>ENGINE<span style=color:#666>=</span>InnoDB<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DEFAULT</span><span style=color:#bbb> </span>CHARSET<span style=color:#666>=</span>utf8;<span style=color:#bbb>
</span></span></span></code></pre></div><ul><li>Name and type of object being created</li><li>Column Definitions</li><li>Define Primary Key, Secondary Indexes and Constraints</li><li>Define Engine, Partitions, Character Set and other attributes</li></ul><h3 id=altering-tables>Altering tables</h3><p><code>ALTER TABLE</code> is used to change a table&rsquo;s schema</p><p><strong>ADD COLUMN</strong> to Add a Column</p><p><strong>DROP COLUMN</strong> to Drop a Column — Deletes Data</p><p><strong>CHANGE COLUMN</strong> and <strong>MODIFY COLUMN</strong> to Alter a Column</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>ALTER</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>table1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>ADD</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COLUMN</span><span style=color:#bbb> </span>col5<span style=color:#bbb> </span><span style=color:#007020>CHAR</span>(<span style=color:#40a070>8</span>),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>DROP</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COLUMN</span><span style=color:#bbb> </span>col3,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>CHANGE<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COLUMN</span><span style=color:#bbb> </span>col4<span style=color:#bbb> </span>col6<span style=color:#bbb> </span><span style=color:#007020>DATE</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>MODIFY</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COLUMN</span><span style=color:#bbb> </span>col8<span style=color:#bbb> </span><span style=color:#007020>VARCHAR</span>(<span style=color:#40a070>10</span>);<span style=color:#bbb>
</span></span></span></code></pre></div><p>Basic Syntax Example for <code>ALTER TABLE</code> Statement</p><h3 id=temporal-tables>Temporal tables</h3><table><thead><tr><th>Type</th><th>Tracks</th><th>Sample Use Cases</th></tr></thead><tbody><tr><td>System-Versioned</td><td>Change history</td><td>Audit, forensics, IoT temperature tracking</td></tr><tr><td>Application-Time Period</td><td>Time-limited values</td><td>Sales offers, subscriptions</td></tr><tr><td>Bitemporal</td><td>Time-limited values with history</td><td>Schedules, decision support models</td></tr></tbody></table><h3 id=temporal-tables-1>Temporal tables</h3><h4 id=system-versioned-example>System-Versioned Example</h4><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>accounts<span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>id<span style=color:#bbb> </span><span style=color:#007020>INT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>PRIMARY</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>KEY</span><span style=color:#bbb> </span>AUTO_INCREMENT,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>name<span style=color:#bbb> </span><span style=color:#007020>VARCHAR</span>(<span style=color:#40a070>255</span>),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>amount<span style=color:#bbb> </span><span style=color:#007020>INT</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>WITH</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SYSTEM</span><span style=color:#bbb> </span>VERSIONING;<span style=color:#bbb>
</span></span></span></code></pre></div><h4 id=application-time-period-example>Application-Time Period Example</h4><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>coupons<span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>id<span style=color:#bbb> </span><span style=color:#007020>INT</span><span style=color:#bbb> </span>UNSIGNED,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>date_start<span style=color:#bbb> </span><span style=color:#007020>DATE</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>date_end<span style=color:#bbb> </span><span style=color:#007020>DATE</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>PERIOD<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FOR</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>valid_period(date_start,<span style=color:#bbb> </span>date_end)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>);<span style=color:#bbb>
</span></span></span></code></pre></div><h4 id=bitemporal-example>Bitemporal Example</h4><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>coupons_new<span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>id<span style=color:#bbb> </span><span style=color:#007020>INT</span><span style=color:#bbb> </span>UNSIGNED,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>name<span style=color:#bbb> </span><span style=color:#007020>VARCHAR</span>(<span style=color:#40a070>255</span>),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>date_start<span style=color:#bbb> </span><span style=color:#007020>DATE</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>date_end<span style=color:#bbb> </span><span style=color:#007020>DATE</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>PERIOD<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FOR</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>valid_period(date_start,<span style=color:#bbb> </span>date_end)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>WITH</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SYSTEM</span><span style=color:#bbb> </span>VERSIONING;<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=data-types-and-built-in-functions>Data types and built-in functions</h2><h3 id=data-types>Data types</h3><p>Types: Binary, Numeric, String, Temporal, and User Defined</p><p>Use the most suitable data type to store all possible, required values<br>Will truncate silently and rounds (<code>sql_mode</code>)</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>MariaDB<span style=color:#bbb> </span>[(<span style=color:#007020;font-weight:700>none</span>)]<span style=color:#666>&gt;</span><span style=color:#bbb> </span>help<span style=color:#bbb> </span><span style=color:#007020>INT</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Name:<span style=color:#bbb> </span><span style=color:#4070a0>&#39;INT&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>Description:<span style=color:#bbb> </span><span style=color:#007020>INT</span>[(M)]<span style=color:#bbb> </span>[UNSIGNED]<span style=color:#bbb> </span>[ZEROFILL]<span style=color:#bbb>
</span></span></span></code></pre></div><p>A normal-size integer.
The signed range is -2147483648 to 2147483647.
The unsigned range is 0 to 4294967295.</p><p>URL: <a href=https://mariadb.com/kb/en/mariadb/data-types-numeric-data-types/>https://mariadb.com/kb/en/mariadb/data-types-numeric-data-types/</a></p><h3 id=numeric-data-types>Numeric data types</h3><ul><li><code>FLOAT</code> and <code>DOUBLE</code> are approximate types<ul><li>Uses 4 and 8 bytes IEEE storage format</li></ul></li><li><code>DECIMAL (m, d)</code> maximum total number of digits, number of digits after decimal point<ul><li>An Exact Value type, up to 65 digits precision, 4 bytes storage for each multiple of nine digits</li></ul></li><li><code>NUMERIC</code> is a synonym for <code>DECIMAL</code></li><li><code>REAL</code> is a synonym for <code>DOUBLE</code><ul><li>Unless in <code>REAL_AS_FLOAT</code> SQL mode</li></ul></li></ul><h3 id=auto-increment>Auto increment</h3><ul><li>Use <code>LAST_INSERT_ID()</code> to get value generated for client connection</li><li><code>SERIAL</code> is a synonym for <code>BIGINT UNSIGNED NOT NULL AUTO_INCREMENT UNIQUE</code></li><li>In Aria the counter can be set back manually or if counter value wraps</li><li>InnoDB<ul><li>Prepares <code>AUTO_INCREMENT</code> counters when the MariaDB Server starts</li><li>Single mutex on a table, behavior changed with <code>innodb_autoinc_lock_mode</code></li></ul></li></ul><h4 id=0--default-traditional>0 | default, Traditional</h4><ul><li>Holds table-level lock for all <code>INSERTs</code> until end of statement</li></ul><h4 id=1-consecutive>1 Consecutive</h4><ul><li>Holds table-level lock for all bulk <code>INSERTs</code> (such as <code>LOAD DATA</code> or <code>INSERT ... SELECT</code>) until end of statement</li><li>For simple <code>INSERTs</code>, no table-level lock held</li></ul><h4 id=2-interleaved>2 Interleaved</h4><ul><li>No table-level locks are held ever</li><li>Fastest and most scalable</li><li>Not safe for statement-based replication</li><li>Generated IDs are not always consecutive</li></ul><h3 id=numeric-data-types-1>Numeric data types</h3><ul><li>Use <code>UNSIGNED</code> when appropriate</li><li><code>INT(n)</code> specifies display precision, not storage precision</li><li>Size and precision is storage engine dependent</li><li>Define handling of Out-of-Range Values with <code>sql_mode</code><ul><li>Default Mode: Values are Truncated Silently</li><li>Strict Mode: Errors are Generated</li></ul></li><li><code>BIGINT</code> can enumerate more than all the ants on Earth and shouldn’t be your default choice</li><li><code>TINYINT(1)</code> is used for <code>BOOLEAN</code> values and is aliased by the <code>BOOLEAN</code> type</li></ul><h3 id=string-data-types>String data types</h3><p>All String Data Types Have A Character Set</p><ul><li><p><code>CHAR(n)</code> - Number of characters, not bytes, wide</p><ul><li>Always stores n characters</li><li>Automatically pads with spaces for shorter strings</li></ul></li><li><p><code>VARCHAR(n)</code> - Variable length up to maximum n characters</p><ul><li>Changes to <code>CHAR</code> in Implicit Temporary Tables and mysqld internal buffers</li><li>256 characters and longer treated as <code>TEXT</code></li><li>For InnoDB, this maximum will depend on the row format</li></ul></li><li><p><code>TEXT</code> - Large text object</p><ul><li>Not supported by the <code>MEMORY</code> Storage Engine</li><li>MariaDB uses <code>ARIA</code> for implicit on-disk temporary tables</li></ul></li><li><p><code>CHAR</code></p></li><li><p><code>VARCHAR</code></p></li><li><p><code>TINYTEXT</code></p></li><li><p><code>TEXT</code></p></li><li><p><code>MEDIUMTEXT</code></p></li><li><p><code>LONGTEXT</code></p></li></ul><h3 id=string-data-types-1>String data types</h3><p>Character set may be global or for schema, table, or column</p><ul><li><p><code>CHAR</code></p></li><li><p><code>VARCHAR</code></p></li><li><p><code>TINYTEXT</code></p></li><li><p><code>TEXT</code></p></li><li><p><code>MEDIUMTEXT</code></p></li><li><p><code>LONGTEXT</code></p></li><li><p>Multi-byte character sets increase disk storage and working memory requirements</p><ul><li><code>UTF-8</code> requires 3 or 4 bytes per character</li></ul></li><li><p>Collations affect string comparison (character order)</p></li><li><p>Collations can be changed for a query</p></li></ul><h3 id=binary-data-types>Binary data types</h3><ul><li><code>BINARY</code>, <code>VARBINARY</code> and <code>BLOBs</code> can contain data with bytes from the whole range from 0 - 255</li><li>Uses a special character set and collation called &ldquo;binary&rdquo;</li><li>Blobs are often used to store files in a database<ul><li>Files on disk are often faster</li><li>But no referential integrity is guaranteed</li></ul></li><li>Blobs are included in transactions, replication, and backups</li><li>Blobs inflate <code>mysqld</code> memory usage</li><li>Modern InnoDB has some improvements in storage and lookup of blobs</li></ul><h3 id=temporal-data-types>Temporal data types</h3><ul><li><code>DATE</code> — from 1000-01-01 to 9999-12-31<ul><li>YYYY-MM-DD</li></ul></li><li><code>TIME</code> [()]<ul><li>from -838:59:59 to 838:59:59</li></ul></li><li><code>DATETIME</code> [()]<ul><li>Same ranges as <code>DATE</code> and <code>TIME</code> above</li><li>YYYY-MM-DD HH:mm:ss</li></ul></li><li><code>TIMESTAMP</code> — Unix timestamp, in seconds from 1970-01-01<ul><li>Many Apps Store <code>UNIX_TIMESTAMP()</code>
values in unsigned integer field</li></ul></li><li><code>YEAR</code> — Accepts YYYY</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>CURTIME(<span style=color:#40a070>4</span>);<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#666>|</span><span style=color:#bbb> </span>CURTIME(<span style=color:#40a070>4</span>)<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#60a0b0;font-style:italic>------------|
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>05</span>:<span style=color:#40a070>33</span>:<span style=color:#40a070>09</span>.<span style=color:#40a070>1061</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=special-data-types>Special data types</h3><ul><li><p><code>ENUM</code> is an enumerated list of string values</p><ul><li>Uses a 2-byte integer index</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>country<span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb> </span>Continent<span style=color:#bbb> </span>ENUM(<span style=color:#4070a0>&#39;Asia&#39;</span>,<span style=color:#4070a0>&#39;Europe&#39;</span>,<span style=color:#4070a0>&#39;N America&#39;</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;Africa&#39;</span>,<span style=color:#4070a0>&#39;Oceania&#39;</span>,<span style=color:#4070a0>&#39;Antarctica&#39;</span>,<span style=color:#4070a0>&#39;S America&#39;</span>)<span style=color:#bbb> </span>);<span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p><code>SET</code> is a specified list of string values</p><ul><li>Can hold multiple specified values</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TABLE</span><span style=color:#bbb> </span>countrylanguage<span style=color:#bbb> </span>(<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb> </span>CountryCode<span style=color:#bbb> </span><span style=color:#007020>CHAR</span>(<span style=color:#40a070>3</span>),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>Language</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SET</span>(<span style=color:#4070a0>&#39;English&#39;</span>,<span style=color:#4070a0>&#39;French&#39;</span>,<span style=color:#4070a0>&#39;Mandarin&#39;</span>)<span style=color:#bbb> </span>);<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>INSERT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>INTO</span><span style=color:#bbb> </span>countrylanguage<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>VALUES</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>(<span style=color:#4070a0>&#39;CHN&#39;</span>,<span style=color:#4070a0>&#39;Mandarin&#39;</span>),<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>(<span style=color:#4070a0>&#39;CAN&#39;</span>,<span style=color:#4070a0>&#39;English,French&#39;</span>);<span style=color:#bbb>
</span></span></span></code></pre></div></li></ul><h3 id=built-in-functions>Built-in functions</h3><p>Types: String, Date and Time, Aggregate, Numeric, Control Flow</p><p>Secondary functions such as Bit Functions and Operators, Encryption, Hashing and Compression, and Information Functions</p><p>Special Functions such as Dynamic Columns, Geographic, JSON, Spider and Window Functions</p><h3 id=manipulating-date--time>Manipulating date & time</h3><p>Functions for date and time manipulation</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>ADDDATE()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>ADDTIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>CONVERT_TZ()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>CURDATE()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>CURTIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020>DATE</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DATE_ADD()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DATE_FORMAT()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DATE_SUB()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DATEDIFF()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DAYNAME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DAYOFMONTH()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DAYOFWEEK()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>DAYOFYEAR()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>EXTRACT</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>FROM_DAYS()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>FROM_UNIXTIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>GET_FORMAT()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>HOUR()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>LAST_DAY()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>MAKEDATE()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>MAKETIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>MICROSECOND()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>MINUTE</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>MONTH</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>MONTHNAME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>NOW()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>PERIOD_ADD()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>PERIOD_DIFF()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>QUARTER()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>SEC_TO_TIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>SECOND</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>STR_TO_DATE()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>SUBDATE()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>SUBTIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>SYSDATE()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>TIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>TIME_FORMAT()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>TIME_TO_SEC()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>TIMEDIFF()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>TIMESTAMP</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>TIMESTAMPADD()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>TIMESTAMPDIFF()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>TO_DAYS()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>UNIX_TIMESTAMP()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>UTC_DATE()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>UTC_TIME()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>UTC_TIMESTAMP()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>WEEK()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>WEEKDAY()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>WEEKOFYEAR()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>YEAR</span>()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>YEARWEEK()<span style=color:#bbb>
</span></span></span></code></pre></div><p>Documentation on Date and Time Functions: <a href=https://mariadb.com/kb/en/mariadb/date-and-time-functions/>https://mariadb.com/kb/en/mariadb/date-and-time-functions/</a></p><h3 id=examples-of-date--time-functions>Examples of date & time functions</h3><h4 id=used-in-queries-and-data-manipulation-statements>Used in Queries and Data Manipulation Statements</h4><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>NOW()<span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#bbb> </span><span style=color:#007020>INTERVAL</span><span style=color:#bbb> </span><span style=color:#40a070>1</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DAY</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>         </span><span style=color:#666>-</span><span style=color:#bbb> </span><span style=color:#007020>INTERVAL</span><span style=color:#bbb> </span><span style=color:#40a070>1</span><span style=color:#bbb> </span>HOUR<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>       </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;Day &amp; Hour Earlier&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>---------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>Day</span><span style=color:#bbb> </span><span style=color:#666>&amp;</span><span style=color:#bbb> </span>Hour<span style=color:#bbb> </span>Earlier<span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>---------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2020</span><span style=color:#666>-</span><span style=color:#40a070>06</span><span style=color:#666>-</span><span style=color:#40a070>02</span><span style=color:#bbb> </span><span style=color:#40a070>08</span>:<span style=color:#40a070>32</span>:<span style=color:#40a070>44</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>---------------------+
</span></span></span></code></pre></div><h4 id=used-in-where-clauses>Used in WHERE Clauses</h4><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>UPDATE</span><span style=color:#bbb> </span>table1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>SET</span><span style=color:#bbb> </span>col3<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;today&#39;</span>,<span style=color:#bbb> </span>col4<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>NOW()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>WHERE</span><span style=color:#bbb> </span>col5<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>CURDATE();<span style=color:#bbb>
</span></span></span></code></pre></div><h4 id=used-in-bulk-load>Used in Bulk Load</h4><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>load</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>data</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>local</span><span style=color:#bbb> </span>infile<span style=color:#bbb> </span><span style=color:#4070a0>&#39;/tmp/test.csv&#39;</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>into</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>table</span><span style=color:#bbb> </span>test<span style=color:#bbb> </span>fields<span style=color:#bbb> </span>terminated<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>by</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;,&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>ignore</span><span style=color:#bbb> </span><span style=color:#40a070>1</span><span style=color:#bbb> </span>lines<span style=color:#bbb> </span>(id,<span style=color:#666>@</span>dt1)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>set</span><span style=color:#bbb> </span>dts<span style=color:#666>=</span>str_to_date(<span style=color:#666>@</span>dt1,<span style=color:#4070a0>&#39;%d/%m/%Y&#39;</span>);<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=manipulating-strings>Manipulating strings</h3><p>Functions for string manipulation</p><ul><li><code>ASCII()</code></li><li><code>BIN()</code></li><li><code>BINARY</code></li><li><code>BIT_LENGTH()</code></li><li><code>CAST()</code></li><li><code>CHAR()</code></li><li><code>CHARACTER_LENGTH()</code></li><li><code>CHAR_LENGTH()</code></li><li><code>CHR()</code></li><li><code>CONCAT()</code></li><li><code>CONCAT_WS()</code></li><li><code>CONVERT()</code></li><li><code>ELT()</code></li><li><code>EXPORT_SET()</code></li><li><code>EXTRACTVALUE()</code></li><li><code>FIELD()</code></li><li><code>FIND_IN_SET()</code></li><li><code>FORMAT()</code></li><li><code>FROM_BASE64()</code></li><li><code>HEX()</code></li><li><code>INSERT()</code></li><li><code>INSTR()</code></li><li><code>LCASE()</code></li><li><code>LEFT()</code></li><li><code>LENGTH()</code></li><li><code>LIKE</code></li><li><code>LOAD_FILE()</code></li><li><code>LOCATE()</code></li><li><code>LOWER()</code></li><li><code>LPAD()</code></li><li><code>LTRIM()</code></li><li><code>MAKE_SET()</code></li><li><code>MATCH AGAINST()</code></li><li><code>MID()</code></li><li><code>NOT LIKE</code></li><li><code>NOT REGEXP</code></li><li><code>OCTET_LENGTH()</code></li><li><code>ORD()</code></li><li><code>POSITION()</code></li><li><code>QUOTE()</code></li><li><code>REPEAT()</code></li><li><code>REPLACE()</code></li><li><code>REVERSE()</code></li><li><code>RIGHT()</code></li><li><code>RPAD()</code></li><li><code>RTRIM()</code></li><li><code>SOUNDEX()</code></li><li><code>SOUNDS LIKE</code></li><li><code>SPACE()</code></li><li><code>STRCMP()</code></li><li><code>SUBSTR()</code></li><li><code>SUBSTRING()</code></li><li><code>SUBSTRING_INDEX()</code></li><li><code>TO_BASE64()</code></li><li><code>TRIM()</code></li><li><code>UCASE()</code></li><li><code>UNHEX()</code></li><li><code>UPDATEXML()</code></li><li><code>UPPER()</code></li><li><code>WEIGHT_STRING()</code></li></ul><p>Documentation on String Functions: <a href=https://mariadb.com/kb/en/library/string-functions/>https://mariadb.com/kb/en/library/string-functions/</a></p><h3 id=an-example-of-a-string-function>An example of a string function</h3><p>Used in queries and data manipulation statements</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>domain</span>,<span style=color:#bbb> </span>domain_count<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>(<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SUBSTRING</span>(email_address,<span style=color:#bbb> </span>LOCATE(<span style=color:#4070a0>&#39;@&#39;</span>,<span style=color:#bbb> </span>email_address)<span style=color:#bbb> </span><span style=color:#666>+</span><span style=color:#40a070>1</span><span style=color:#bbb> </span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>domain</span>,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>COUNT</span>(<span style=color:#666>*</span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span>domain_count<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>clients_email<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>GROUP</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>BY</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>domain</span><span style=color:#bbb> </span>)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span>derived1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>WHERE</span><span style=color:#bbb> </span>domain_count<span style=color:#bbb> </span><span style=color:#666>&gt;</span><span style=color:#bbb> </span><span style=color:#40a070>200</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>LIMIT</span><span style=color:#bbb> </span><span style=color:#40a070>100</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=aggregate-functions>Aggregate functions</h3><p>Used for Summary Operations</p><p>Aggregate Functions Reduce a Set of Values to a Single Value</p><ul><li>AVG()</li><li>COUNT()</li><li>GROUP_CONCAT()</li><li>MAX()</li><li>MIN()</li><li>STD()</li><li>STDDEV</li><li>SUM()</li><li>VARIANCE()</li></ul><p><code>DISTINCT</code> Removes Duplicate Values before Aggregation (e.g., with <code>COUNT()</code> and <code>GROUP_CONCAT()</code>)</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COUNT</span>(<span style=color:#666>*</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>City;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>----------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COUNT</span>(<span style=color:#666>*</span>)<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>----------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>4079</span><span style=color:#bbb>     </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>----------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COUNT</span>(<span style=color:#007020;font-weight:700>DISTINCT</span><span style=color:#bbb> </span>CountryCode)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>City;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-----------------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>COUNT</span>(<span style=color:#007020;font-weight:700>DISTINCT</span><span style=color:#bbb> </span>CountryCode)<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-----------------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>232</span><span style=color:#bbb>                         </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-----------------------------+
</span></span></span></code></pre></div><h3 id=aggregate-multiplication>Aggregate multiplication</h3><p><strong>Using logarithm logic:</strong></p><p>A chart shows the rate of return for a publicly traded company over 10 years</p><p>With an initial investment of $1,000 in 2009, calculate the value of the investment by 2019</p><ul><li>Possible solution:<div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>AVERAGE(ROR)<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>investment;<span style=color:#bbb>
</span></span></span></code></pre></div></li><li>Problem: This would result in an average return of approximately 9.9% over the 10 year span, but it does not take into account compound interest.</li></ul><h3 id=aggregate-multiplication-1>Aggregate multiplication</h3><p>Calculating compound interest: Find each year&rsquo;s ROR:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>YEAR</span>,<span style=color:#bbb> </span><span style=color:#40a070>1</span><span style=color:#666>+</span>ROR<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span>multiplier,<span style=color:#bbb> </span>LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR)<span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>investment;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------+-----------+---------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>YEAR</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span>multiplier<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span>LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR<span style=color:#666>/</span><span style=color:#40a070>100</span>)<span style=color:#bbb>     </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------+-----------+---------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2010</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>1</span>.<span style=color:#40a070>44</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>0</span>.<span style=color:#40a070>36464311193222</span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2011</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>0</span>.<span style=color:#40a070>75</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb>    </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>28768207245178</span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2012</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>1</span>.<span style=color:#40a070>08</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>0</span>.<span style=color:#40a070>07961013948044</span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>..<span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2017</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>1</span>.<span style=color:#40a070>11</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>0</span>.<span style=color:#40a070>10436001478726</span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2018</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>0</span>.<span style=color:#40a070>92</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb>    </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>083381606995421</span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2019</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>0</span>.<span style=color:#40a070>79</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb>    </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>23572232522169</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------+-----------+---------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#40a070>10</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>rows</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>in</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>set</span><span style=color:#bbb> </span>(<span style=color:#666>#</span>.<span style=color:#666>##</span><span style=color:#bbb> </span>sec)<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=aggregate-multiplication-2>Aggregate multiplication</h3><p>Calculating compound interest:</p><ol><li><p>Add all the logarithmic results together</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SUM</span>(LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR))<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>investment;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>--------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SUM</span>(LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR))<span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>--------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>0</span>.<span style=color:#40a070>68010598814117</span><span style=color:#bbb>   </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>--------------------+
</span></span></span></code></pre></div></li><li><p>Determine the return percentage with compound interest</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>EXP(<span style=color:#007020;font-weight:700>SUM</span>(LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR)))<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>investment;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span>EXP(<span style=color:#007020;font-weight:700>SUM</span>(LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR)))<span style=color:#bbb>   </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#40a070>1</span>.<span style=color:#40a070>9740869509493</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------------------------+
</span></span></span></code></pre></div></li></ol><h3 id=aggregate-multiplication-3>Aggregate multiplication</h3><p>Calculating compound interest:</p><ul><li><p>Calculate the result</p></li><li><p>Over ten years, even including the bad years, the initial investment of $1,000 nearly doubled</p></li><li><p>Creative SQL can be used to solve perceived limitations in the language.</p></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>EXP(<span style=color:#007020;font-weight:700>SUM</span>(LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR)))<span style=color:#666>*</span><span style=color:#40a070>1000</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>investment;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-------------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span>EXP(<span style=color:#007020;font-weight:700>SUM</span>(LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>ROR)))<span style=color:#666>*</span><span style=color:#40a070>1000</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-------------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1974</span>.<span style=color:#40a070>0869509493</span><span style=color:#bbb>          </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-------------------------+
</span></span></span></code></pre></div><h3 id=running-total-query>Running total query</h3><p>In the course of almost every analytical presentation, someone will request that a running total be presented!</p><p>The following SQL example uses a self-join on the investment table to create the running total</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>a.<span style=color:#007020;font-weight:700>YEAR</span>,<span style=color:#bbb> </span>a.ROR,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>EXP(<span style=color:#007020;font-weight:700>SUM</span>(LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>b.ROR)))<span style=color:#666>*</span><span style=color:#40a070>1000</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span>balance<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>investment<span style=color:#bbb> </span>a<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>JOIN</span><span style=color:#bbb> </span>investment<span style=color:#bbb> </span>b<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>ON</span><span style=color:#bbb> </span>(a.<span style=color:#007020;font-weight:700>YEAR</span><span style=color:#bbb> </span><span style=color:#666>&gt;=</span><span style=color:#bbb> </span>b.<span style=color:#007020;font-weight:700>YEAR</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>GROUP</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>BY</span><span style=color:#bbb> </span>a.<span style=color:#007020;font-weight:700>YEAR</span>,<span style=color:#bbb> </span>a.ROR;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=running-total-query-1>Running total query</h3><p>Notice how this statement works</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>a.<span style=color:#007020;font-weight:700>YEAR</span>,<span style=color:#bbb> </span>a.ROR,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>EXP((LOG(<span style=color:#40a070>1</span><span style=color:#666>+</span>b.ROR)))<span style=color:#666>*</span><span style=color:#40a070>1000</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb> </span>balance<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>investment<span style=color:#bbb> </span>a<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>JOIN</span><span style=color:#bbb> </span>investment<span style=color:#bbb> </span>b<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>ON</span><span style=color:#bbb> </span>(a.<span style=color:#007020;font-weight:700>YEAR</span><span style=color:#bbb> </span><span style=color:#666>&gt;=</span><span style=color:#bbb> </span>b.<span style=color:#007020;font-weight:700>YEAR</span>)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>ORDER</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>BY</span><span style=color:#bbb> </span>a.<span style=color:#007020;font-weight:700>YEAR</span>,<span style=color:#bbb> </span>a.ROR;<span style=color:#bbb>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------+----------+------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>YEAR</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span>ROR<span style=color:#bbb>      </span><span style=color:#666>|</span><span style=color:#bbb> </span>balance<span style=color:#bbb>          </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------+----------+------------------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2000</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>  </span><span style=color:#40a070>0</span>.<span style=color:#40a070>0</span><span style=color:#bbb>     </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1439</span>.<span style=color:#40a070>99999761581</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2011</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>25</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1439</span>.<span style=color:#40a070>99999761581</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2011</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>25</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1439</span>.<span style=color:#40a070>99999761581</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>    </span><span style=color:#40a070>750</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2012</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>  </span><span style=color:#40a070>0</span>.<span style=color:#40a070>08</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1439</span>.<span style=color:#40a070>99999761581</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>...<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2019</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>21</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1439</span>.<span style=color:#40a070>99999761581</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2019</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>21</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1439</span>.<span style=color:#40a070>9999821186</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>    </span><span style=color:#40a070>750</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>2019</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#666>-</span><span style=color:#40a070>0</span>.<span style=color:#40a070>21</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#40a070>1079</span>.<span style=color:#40a070>9999821186</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>------+----------+------------------+
</span></span></span></code></pre></div><h3 id=control-flow-functions>Control flow functions</h3><p><code>IF(expr1,expr2,expr3)</code></p><ul><li>If <code>expr1</code> is TRUE (<code>expr1 &lt;> 0</code> and <code>expr1 &lt;> NULL</code>) then <code>IF()</code> returns <code>expr2</code>; otherwise it returns <code>expr3</code></li></ul><p><code>IFNULL(expr1,exprNULL)</code> returns <code>expr1</code>, or <code>exprNULL</code> if <code>expr1</code> is <code>NULL</code></p><p>Do not mix up with <code>NULLIF(expr1,expr2)</code> which returns <code>expr1</code> if <code>expr1&lt;>expr2</code> otherwise <code>NULL</code></p><h3 id=some-numeric-functions>Some numeric functions</h3><ul><li><code>CEIL(X)</code><ul><li>Returns the smallest integer value not less than <code>X</code></li><li>Synonym for <code>CEILING()</code></li></ul></li><li><code>FLOOR(X)</code><ul><li>Returns the largest integer value not greater than <code>X</code></li></ul></li><li><code>ROUND(X, D)</code><ul><li>Rounds or round up to <code>D</code> decimal places</li></ul></li><li><code>ABS(X)</code><ul><li>Returns the non-negative number of <code>X</code></li></ul></li></ul><h2 id=views-triggers-and-events>Views, triggers and events</h2><h3 id=views-1>Views</h3><ul><li>Adapt and standardize table schema</li><li>Simplify, split, or factor complex reporting queries</li><li>Restrict visible table data to specific users and applications</li></ul><h3 id=an-example-of-a-view>An example of a view</h3><ul><li>A SQL Statement Represented as a Table</li><li>Views are Not Materialised</li><li>The <code>SELECT</code> Query always Re-Executes</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>VIEW</span><span style=color:#bbb> </span>emp_names<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>emp_id,<span style=color:#bbb> </span>name_first,<span style=color:#bbb> </span>name_last<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>ALTER</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>VIEW</span><span style=color:#bbb> </span>emp_names<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>AS</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span>emp_id,<span style=color:#bbb> </span>name_first,<span style=color:#bbb> </span>name_middle,<span style=color:#bbb> </span>name_last,<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span>employees;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>SHOW</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FULL</span><span style=color:#bbb> </span>TABLES<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>WHERE</span><span style=color:#bbb> </span>Table_type<span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;VIEW&#39;</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>SHOW</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>VIEW</span><span style=color:#bbb> </span>emp_names<span style=color:#bbb> </span><span>\</span><span style=color:#007020;font-weight:700>G</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>DROP</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>VIEW</span><span style=color:#bbb> </span>emp_names;<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=lesson-summary>Lesson summary</h2><ul><li>Gain an understanding of schema objects available within MariaDB</li><li>Learn how to use and create databases and tables, including temporal data tables, and flexible and invisible columns</li><li>Discuss data types and built-in functions, and their use cases</li><li>Learn how to create and use views, triggers, events, and sequences</li></ul><h2 id=lab-exercises>Lab exercises</h2><ul><li>2-1 Creating a Database</li><li>2-2 Creating a Table</li><li>2-3 Creating Virtual Columns</li><li>2-4 Setting the Database Default Character Set</li><li>2-5 Creating and Comparing Tables for Multiple Storage Engines</li></ul><hr><p>For academic and non-commercial usage, licensed under CC BY-NC-SA 4.0 by MariaDB plc.</p></div><div class=right-menu><div class=quick-links><a href=https://github.com/MariaDB/mariadb-for-universities/blob/main/mariadb-dev-02-schema-objects.md class="icon-link edit-page">View page source</a>
<a href=https://github.com/MariaDB/mariadb-for-universities/edit/main/mariadb-dev-02-schema-objects.md class="icon-link view-source">Edit this page</a>
<a href="https://github.com/MariaDB/mariadb-for-universities/issues/new?title=Course%20Material%20issue%20for%20Lesson%202%3a%20Schema%20objects&body=I%20found%20an%20issue%20with%20the%20documentation%20for%20Lesson%202%3a%20Schema%20objects.%0A%0A%0A%0A---%0A%0AThis%20issue%20is%20related%20to%20the%20following%20page%3A%0A%0Ahttps%3a%2f%2funi.mariadb.org%2fdev%2fschema-objects%2f" class="icon-link create-doc">Create material issue</a>
<a href=javascript:void(0) onclick=printSection() class="icon-link print">Print entire section</a></div></div></div><script>function printSection(){const e=document.querySelector(".left-menu"),t=document.querySelector(".right-menu"),n=e.style.display,s=t.style.display;e.style.display="none",t.style.display="none",window.print(),e.style.display=n,t.style.display=s}</script></body></html>