<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>MariaDB for Universities Program: Course Material</title>
<link rel=stylesheet href=/css/main.css><meta property="og:url" content="https://uni.mariadb.org/dba/user-management/"><meta property="og:site_name" content="MariaDB for Universities Program Course Material"><meta property="og:title" content="Lesson 5: User Management"><meta property="og:description" content="User Management Learning Objectives Demonstrate how to create and manage users in MariaDB Explain how to limit resource usage per user in MariaDB Show how to assign and revoke privileges to users in MariaDB Authentication Methods and User Accounts Authentication Methods DEFAULT ed25519 NAMED PIPE UNIX SOCKET GSSAPI PAM Default Authentication Method User ID / Passwords stored within database (mysql.global_priv) Passwords are encrypted (PASSWORD() function) Use SET PASSWORD=PASSWORD('new_password') statement for password changes Easy for DBAs to control and manage users, roles and policies Password strength checking set by DBA Not tied to LDAP/AD/Operating System users ed25519 Uses Elliptic Curve Digital Signature Algorithm (ECDSA) More secure than default SHA-1 password hashing Installed via a plugin - INSTALL SONAME 'auth_ed25519' CREATE USER username@hostname IDENTIFIED VIA ed25519 USING PASSWORD('secret'); Named Pipe Used with Windows named pipe impersonation Retrieves username from Windows with GetUserName() function Password is not required Installed via plugin CREATE USER username@hostname IDENTIFIED VIA named_pipe; Unix Socket Uses operating system credentials to authenticate Password is not required Plugin installed by default CREATE USER username@hostname IDENTIFIED VIA unix_socket; MariaDB User Accounts Authentication is based on user, host and password except with specific authentication plugins for example Unix socket, GSSAPI and PAM"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="dba"><meta property="article:published_time" content="2025-04-07T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-07T00:00:00+00:00"></head><body><div class=top-menu><div class=menu-left><a href=/ class=home-link><img src=# alt class=menu-icon>
MariaDB for Universities Program: Course Material</a></div><div class=menu-right><a href=https://mariadb.org>MariaDB Foundation (mariadb.org)</a></div></div><div class=content-wrapper><div class=left-menu><div class=table-of-contents><h2><a href=.>Lesson 5: User Management</a></h2><nav id=TableOfContents><ul><li><a href=#learning-objectives>Learning Objectives</a></li><li><a href=#authentication-methods-and-user-accounts>Authentication Methods and User Accounts</a><ul><li><a href=#authentication-methods>Authentication Methods</a></li><li><a href=#default-authentication-method>Default Authentication Method</a></li><li><a href=#ed25519>ed25519</a></li><li><a href=#named-pipe>Named Pipe</a></li><li><a href=#unix-socket>Unix Socket</a></li><li><a href=#mariadb-user-accounts>MariaDB User Accounts</a></li><li><a href=#authentication-tables-and-views>Authentication Tables and Views</a></li><li><a href=#creating-users>Creating Users</a></li><li><a href=#checking-users>Checking Users</a></li><li><a href=#managing-users>Managing Users</a></li><li><a href=#assigning-privileges>Assigning Privileges</a></li><li><a href=#available-privileges-show-privileges>Available Privileges (Show Privileges)</a></li><li><a href=#checking-and-revoking-privileges>Checking and Revoking Privileges</a></li></ul></li><li><a href=#restricting-users>Restricting Users</a><ul><li><a href=#removing-users>Removing Users</a></li></ul></li><li><a href=#lesson-summary>Lesson Summary</a></li></ul></nav></div></div><div class=main-content><nav class=breadcrumb><a href=/>MariaDB for Universities Course Material</a>
>
<a href=/dba/>MariaDB DBA Course</a>
> <span class=current>Lesson 5: User Management</span></nav><h1>Lesson 5: User Management</h1><h1 id=user-management>User Management</h1><h2 id=learning-objectives>Learning Objectives</h2><ul><li>Demonstrate how to create and manage users in MariaDB</li><li>Explain how to limit resource usage per user in MariaDB</li><li>Show how to assign and revoke privileges to users in MariaDB</li></ul><h2 id=authentication-methods-and-user-accounts>Authentication Methods and User Accounts</h2><h3 id=authentication-methods>Authentication Methods</h3><ul><li><code>DEFAULT</code></li><li><code>ed25519</code></li><li><code>NAMED PIPE</code></li><li><code>UNIX SOCKET</code></li><li><code>GSSAPI</code></li><li><code>PAM</code></li></ul><h3 id=default-authentication-method>Default Authentication Method</h3><ul><li>User ID / Passwords stored within database (<code>mysql.global_priv</code>)</li><li>Passwords are encrypted (<code>PASSWORD()</code> function)<ul><li>Use <code>SET PASSWORD=PASSWORD('new_password')</code> statement for password changes</li></ul></li><li>Easy for DBAs to control and manage users, roles and policies</li><li>Password strength checking set by DBA</li><li>Not tied to LDAP/AD/Operating System users</li></ul><h3 id=ed25519>ed25519</h3><ul><li>Uses Elliptic Curve Digital Signature Algorithm (ECDSA)</li><li>More secure than default SHA-1 password hashing</li><li>Installed via a plugin - <code>INSTALL SONAME 'auth_ed25519'</code></li><li><code>CREATE USER username@hostname IDENTIFIED VIA ed25519 USING PASSWORD('secret');</code></li></ul><h3 id=named-pipe>Named Pipe</h3><ul><li>Used with Windows named pipe impersonation</li><li>Retrieves username from Windows with <code>GetUserName()</code> function</li><li>Password is not required</li><li>Installed via plugin</li><li><code>CREATE USER username@hostname IDENTIFIED VIA named_pipe;</code></li></ul><h3 id=unix-socket>Unix Socket</h3><ul><li>Uses operating system credentials to authenticate</li><li>Password is not required</li><li>Plugin installed by default</li><li><code>CREATE USER username@hostname IDENTIFIED VIA unix_socket;</code></li></ul><h3 id=mariadb-user-accounts>MariaDB User Accounts</h3><ul><li><p>Authentication is based on user, host and password except with specific authentication plugins for example Unix socket, GSSAPI and PAM</p></li><li><p>Privileges are based on user and host combined, and the user&rsquo;s current role</p></li><li><p>Privileges can be granted globally, at the database level, at the table level or at the column level</p></li></ul><h3 id=authentication-tables-and-views>Authentication Tables and Views</h3><p>Internal credentials and global privileges are stored as JSON <code>mysql.global_priv</code> table</p><p>This allows for further flexibility and avoids frequent changes to the table structure</p><p>The old <code>mysql.user</code> table is a view on <code>mysql.global_priv</code></p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>MariaDB<span style=color:#bbb> </span>[(<span style=color:#007020;font-weight:700>none</span>)]<span style=color:#666>&gt;</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>DESCRIBE</span><span style=color:#bbb> </span>mysql.global_priv;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-------+-------------+------+-----+---------+-------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span>Field<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>Type</span><span style=color:#bbb>        </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>Null</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>Key</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>Default</span><span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb> </span>Extra<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-------+-------------+------+-----+---------+-------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>Host</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020>char</span>(<span style=color:#40a070>60</span>)<span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NO</span><span style=color:#bbb>   </span><span style=color:#666>|</span><span style=color:#bbb> </span>PRI<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>         </span><span style=color:#666>|</span><span style=color:#bbb>       </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>User</span><span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020>char</span>(<span style=color:#40a070>80</span>)<span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NO</span><span style=color:#bbb>   </span><span style=color:#666>|</span><span style=color:#bbb> </span>PRI<span style=color:#bbb> </span><span style=color:#666>|</span><span style=color:#bbb>         </span><span style=color:#666>|</span><span style=color:#bbb>       </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>|</span><span style=color:#bbb> </span>Priv<span style=color:#bbb>  </span><span style=color:#666>|</span><span style=color:#bbb> </span>longtext<span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>NO</span><span style=color:#bbb>   </span><span style=color:#666>|</span><span style=color:#bbb>     </span><span style=color:#666>|</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;{}&#39;</span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb>       </span><span style=color:#666>|</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#666>+</span><span style=color:#60a0b0;font-style:italic>-------+-------------+------+-----+---------+-------+
</span></span></span><span style=display:flex><span><span style=color:#60a0b0;font-style:italic></span><span style=color:#40a070>3</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>rows</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>in</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>set</span><span style=color:#bbb> </span>(<span style=color:#40a070>0</span>.<span style=color:#40a070>001</span><span style=color:#bbb> </span>sec)<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=creating-users>Creating Users</h3><p>Changes made with the account management statements are automatically activated</p><p>Use the <code>CREATE USER</code> statement to create users in MariaDB</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>USER</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span><span style=color:#bbb> </span>IDENTIFIED<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>BY</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;password&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Resource limits such as the number of queries, updates or connections per hour can be set by appending the resource_option to the <code>CREATE USER</code> statement</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>USER</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>WITH</span><span style=color:#bbb> </span>MAX_QUERIES_PER_HOUR<span style=color:#bbb> </span><span style=color:#40a070>10</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>MAX_UPDATES_PER_HOUR<span style=color:#bbb> </span><span style=color:#40a070>20</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>MAX_CONNECTIONS_PER_HOUR<span style=color:#bbb> </span><span style=color:#40a070>30</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>MAX_USER_CONNECTIONS<span style=color:#bbb> </span><span style=color:#40a070>40</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Use <code>MAX_USER_CONNECTIONS</code> to limit the number of simultaneous connections by a user</p><p>Append the following <code>tls_option</code> to the <code>CREATE USER</code> statement to specify the requirement and details of secure SSL connections per user</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>USER</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;foo&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;test&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>REQUIRE<span style=color:#bbb> </span>ISSUER<span style=color:#bbb> </span><span style=color:#4070a0>&#39;foo_issuer&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>SUBJECT<span style=color:#bbb> </span><span style=color:#4070a0>&#39;foo_subject&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>CIPHER<span style=color:#bbb> </span><span style=color:#4070a0>&#39;text&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=checking-users>Checking Users</h3><p>The <code>SHOW CREATE USER</code> statement is a useful way to see the command required to create a user for auditing or the creation of similar accounts</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SHOW</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>CREATE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>USER</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span><span>\</span><span style=color:#007020;font-weight:700>G</span><span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=managing-users>Managing Users</h3><p>Changes made with the account management statements are automatically activated</p><h4 id=change-a-users-username-and-host>Change a user&rsquo;s username and host</h4><p><code>RENAME USER</code> statement</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>RENAME</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>USER</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user1&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host1&#39;</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TO</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user2&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host2&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h4 id=change-a-users-password>Change a user&rsquo;s password</h4><p><code>SET PASSWORD</code> statement</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SET</span><span style=color:#bbb> </span>PASSWORD<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FOR</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span>PASSWORD(<span style=color:#4070a0>&#39;mariadb2&#39;</span>);<span style=color:#bbb>
</span></span></span></code></pre></div><h4 id=the-alter-user-statement-allows-for-easy-modification-of-existing-user-accounts>The <code>ALTER USER</code> statement allows for easy modification of existing user accounts</h4><p>Changing a user&rsquo;s password can be rewritten to use the <code>ALTER USER</code> statement
sql
ALTER USER CURRENT_USER() IDENTIFIED BY &lsquo;mariadb2&rsquo;;</p><pre tabindex=0><code>
### Managing Users

`ALTER USER` statement to limit the number of simultaneous connections

```sql
ALTER USER &#39;user&#39;@&#39;host&#39; WITH MAX_USER_CONNECTIONS 10;
</code></pre><p>The <code>ALTER USER</code> statement can also be used to set certain TLS-related restrictions</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>ALTER</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>USER</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user2&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host2&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>REQUIRE<span style=color:#bbb> </span>SUBJECT<span style=color:#bbb> </span><span style=color:#4070a0>&#39;/CN=alice/O=My Dom, Inc./C=US/ST=Oregon/L=Portland&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>AND</span><span style=color:#bbb> </span>ISSUER<span style=color:#bbb> </span><span style=color:#4070a0>&#39;/C=IT/ST=Somewhere/L=City/O=Some Company/CN=Peter Parker/emailAddress=p.parker@marvel.com&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>AND</span><span style=color:#bbb> </span>CIPHER<span style=color:#bbb> </span><span style=color:#4070a0>&#39;TLSv1.2&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=assigning-privileges>Assigning Privileges</h3><p>The <code>mysql</code> database contains the grants tables, which are loaded into memory when MariaDB starts up</p><p>Users and roles are assigned privileges with the <code>GRANT</code> statement</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>GRANT</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>priv_type<span style=color:#bbb> </span>[(column_list)]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>[,<span style=color:#bbb> </span>priv_type<span style=color:#bbb> </span>[(column_list)]]<span style=color:#bbb> </span>...<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>ON</span><span style=color:#bbb> </span>[object_type]<span style=color:#bbb> </span>priv_level<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#007020;font-weight:700>TO</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>user</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>[<span style=color:#007020;font-weight:700>WITH</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>GRANT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>OPTION</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span>MAX_QUERIES_PER_HOUR<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>count</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span>MAX_UPDATES_PER_HOUR<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>count</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span>MAX_CONNECTIONS_PER_HOUR<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>count</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#666>|</span><span style=color:#bbb> </span>MAX_USER_CONNECTIONS<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>count</span><span style=color:#bbb> </span>]<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=available-privileges-show-privileges>Available Privileges (Show Privileges)</h3><h4 id=basic-privileges>Basic Privileges</h4><ul><li>Usage</li><li>Select</li><li>Insert</li><li>Update</li><li>Delete</li><li>Show Databases</li></ul><h4 id=customizing-privileges>Customizing Privileges</h4><ul><li>Create Routine</li><li>Alter Routine</li><li>Execute</li><li>Event</li><li>Trigger</li></ul><h4 id=administrator-privileges>Administrator Privileges</h4><ul><li>All [Privileges]</li><li>Super</li><li>Create User</li><li>Grant Option</li><li>Process</li><li>File</li><li>Reload</li><li>Shutdown</li><li>Connection Admin</li><li>Federated Admin</li><li>Read only Admin</li><li>Set User</li></ul><h4 id=developer-privileges>Developer Privileges</h4><ul><li>Create</li><li>Alter</li><li>Index</li><li>Drop</li></ul><h4 id=special-privileges>Special Privileges</h4><ul><li>Create Temporary Tables</li><li>Create View</li><li>Show View</li><li>Lock Tables</li></ul><h4 id=replication-privileges>Replication Privileges</h4><ul><li>Binary log Monitor</li><li>Replication Replica</li><li>Binary log Admin</li><li>Binary log Replay</li><li>Replication master admin</li><li>Replication slave admin</li></ul><h3 id=checking-and-revoking-privileges>Checking and Revoking Privileges</h3><p>The <code>REVOKE</code> statement removes privileges but does not remove the user account</p><p>To remove a user account, the <code>DROP USER</code> statement must be used</p><p>Query the user table in the mysql database to check the privileges of user accounts</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>user</span>,<span style=color:#007020;font-weight:700>host</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>from</span><span style=color:#bbb> </span>mysql.<span style=color:#007020;font-weight:700>user</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>The <code>SHOW GRANTS</code> statement can be used to check a single user account&rsquo;s privileges</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SHOW</span><span style=color:#bbb> </span>GRANTS<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FOR</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Revoke privileges from a user with the <code>REVOKE</code> statement by either listing the privileges to revoke or using <code>ALL PRIVILEGES</code></p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>REVOKE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>ON</span><span style=color:#bbb> </span>dbname.tablename<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>REVOKE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>ALL</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>PRIVILEGES</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>ON</span><span style=color:#bbb> </span>dbname.tablename<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FROM</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Confirm that the revoke was successful with <code>SHOW GRANTS</code></p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SHOW</span><span style=color:#bbb> </span>GRANTS<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>FOR</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=restricting-users>Restricting Users</h2><p>User accounts can have a limit set on resource use</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>GRANT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>ON</span><span style=color:#bbb> </span>dbname.tablename<span style=color:#bbb> </span><span style=color:#007020;font-weight:700>TO</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span><span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#007020;font-weight:700>WITH</span><span style=color:#bbb> </span>MAX_QUERIES_PER_HOUR<span style=color:#bbb> </span><span style=color:#40a070>20</span><span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb>     </span>MAX_CONNECTIONS_PER_HOUR<span style=color:#bbb> </span><span style=color:#40a070>10</span><span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb>     </span>MAX_USER_CONNECTIONS<span style=color:#bbb> </span><span style=color:#40a070>2</span><span style=color:#bbb> 
</span></span></span><span style=display:flex><span><span style=color:#bbb>     </span>MAX_UPDATES_PER_HOUR<span style=color:#bbb> </span><span style=color:#40a070>5</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Resource limit usage is kept in the <code>mysql</code> database</p><p>Resource limit counters reset then the server starts/restarts or when <code>FLUSH USER_RESOURCES</code> is executed</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>FLUSH<span style=color:#bbb> </span>USER_RESOURCES;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=removing-users>Removing Users</h3><p>Delete users in MariaDB with the <code>DROP USER</code> statement</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>DROP</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>USER</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span><span style=color:#666>@</span><span style=color:#4070a0>&#39;host&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Check for leftover user accounts which still allow access from other hosts</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#007020;font-weight:700>SELECT</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>User</span>,<span style=color:#007020;font-weight:700>Host</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>from</span><span style=color:#bbb> </span>mysql.<span style=color:#007020;font-weight:700>user</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>WHERE</span><span style=color:#bbb> </span><span style=color:#007020;font-weight:700>User</span><span style=color:#bbb> </span><span style=color:#666>=</span><span style=color:#bbb> </span><span style=color:#4070a0>&#39;user&#39;</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=lesson-summary>Lesson Summary</h2><ul><li>Demonstrate how to create and manage users in MariaDB</li><li>Explain how to limit resource usage per user in MariaDB</li><li>Show how to assign and revoke privileges to users in MariaDB</li></ul><hr><p>For academic and non-commercial usage, licensed under CC BY-NC-SA 4.0 by MariaDB plc.</p></div><div class=right-menu><div class=quick-links><a href=https://github.com/MariaDB/mariadb-for-universities/blob/main/mariadb-dba-05-user-management.md class="icon-link edit-page">View page source</a>
<a href=https://github.com/MariaDB/mariadb-for-universities/edit/main/mariadb-dba-05-user-management.md class="icon-link view-source">Edit this page</a>
<a href="https://github.com/MariaDB/mariadb-for-universities/issues/new?title=Course%20Material%20issue%20for%20Lesson%205%3a%20User%20Management&body=I%20found%20an%20issue%20with%20the%20documentation%20for%20Lesson%205%3a%20User%20Management.%0A%0A%0A%0A---%0A%0AThis%20issue%20is%20related%20to%20the%20following%20page%3A%0A%0Ahttps%3a%2f%2funi.mariadb.org%2fdba%2fuser-management%2f" class="icon-link create-doc">Create material issue</a>
<a href=javascript:void(0) onclick=printSection() class="icon-link print">Print entire section</a></div></div></div><script>function printSection(){const e=document.querySelector(".left-menu"),t=document.querySelector(".right-menu"),n=e.style.display,s=t.style.display;e.style.display="none",t.style.display="none",window.print(),e.style.display=n,t.style.display=s}</script></body></html>